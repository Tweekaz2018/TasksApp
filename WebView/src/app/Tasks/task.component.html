<div class="row">
    <div class="col-2">
        <a href="/" class="btn btn-light btn-block">
            <<< </a>
    </div>
    <div class="col-9">
        <div class="row">
            <div class="card">
                <div class="card-body">
                    <h4>{{Task?.Label}}</h4>
                    <div class="row">
                        <div class="col-2">
                            <p *ngIf="Task?.Priority == PriorityEnum.Low">–ü—Ä—ñ–æ—Ä—ñ—Ç–µ—Ç: üü¶(–ù–∏–∑—å–∫–∏–π)</p>
                            <p *ngIf="Task?.Priority == PriorityEnum.Medium">–ü—Ä—ñ–æ—Ä—ñ—Ç–µ—Ç: üîº(–°–µ—Ä–µ–¥–Ω—ñ–π)</p>
                            <p *ngIf="Task?.Priority == PriorityEnum.High">–ü—Ä—ñ–æ—Ä—ñ—Ç–µ—Ç: ‚è´(–í–∏—Å–æ–∫–∏–π)</p>
                        </div>
                        <div class="col-2">
                            <p>–î–æ: {{formatDate(Task?.EndDate)}}</p>
                        </div>
                        <div class="col-4">
                            <div class="row">
                                –ü–æ—Å—Ç–∞–Ω–æ–≤–Ω–∏–∫: <a href="/users/{{Task?.Reporter?.Login}}">{{Task?.Reporter?.ViewName}}</a>
                            </div>
                            <div class="row">
                                –í—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–∏–π: <a
                                    href="/users/{{Task?.Executor?.Login}}">{{Task?.Executor?.ViewName}}</a>

                            </div>
                        </div>
                        <div class="col-2">
                            <div class="row" *ngIf="Task?.IsClosed == false">
                                <button class="btn btn-outline-dark" *ngIf="canChange"
                                    (click)="ShowEditModal()">–ó–º—ñ–Ω–∏—Ç–∏</button>
                                <button class="btn btn-outline-success" (click)="CloseTaskModal()">–î–æ–ø–æ–≤—ñ—Å—Ç–∏ –ø—Ä–æ
                                    –≤–∏–∫–æ–Ω–∞–Ω–Ω—è</button>
                            </div>
                            <div class="row" *ngIf="Task?.IsClosed == true">
                                <button class="btn btn-block btn-danger">–ó–∞–∫—Ä–∏—Ç–æ</button>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <p class="card-text">{{Task?.Description}}</p>
                        </div>
                    </div>
                    <div class="col">–°—Ç–≤–æ—Ä–µ–Ω–æ: {{formatDate(Task?.CreatingDate)}}</div>
                    <div class="col">–ó–º—ñ–Ω–µ–Ω–æ: {{formatDate(Task?.UpdatingDate)}}</div>
                </div>
            </div>
        </div>
        <div class="row" *ngFor="let comment of Task?.Comments">
            <div class="card">
                <div class="card-body">
                    <h6 class="card-title">{{comment?.Commentator?.ViewName}}</h6>
                    <small class="text-muted">{{formatDate(comment?.CreatingDate)}}</small>
                    <p class="card-text">{{comment.Description}}</p>
                </div>
            </div>
        </div>
        <div class="row" *ngIf="Task?.IsClosed == false">
            <div class="card">
                <div class="card-body">
                    <textarea class="form-control" [(ngModel)]="text"></textarea>
                </div>
                <div class="card-footer">
                    <button class="btn btn-secondary" (click)="AppendComment()">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
                </div>
            </div>
        </div>
    </div>
</div>

<edittask-main [editTaskModal]="openEditModal" (onPlainClose)="onClose($event)" (onSave)="onTaskChanged($event)"
    [Task]="Task" [Users]="Users"></edittask-main>

<closetask-main [closeTaskModal]="openCloseTaskModal" (onPlainClose)="onClose($event)"
    (onCloseTask)="onCloseTask($event)"></closetask-main>